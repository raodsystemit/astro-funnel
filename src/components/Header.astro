---
const navLinks = [
  { name: "Inicio", href: "#inicio" },
  { name: "Beneficios", href: "#beneficios" },
  { name: "Testimonios", href: "#testimonios" },
  { name: "Contacto", href: "#contacto" },
];
---

<header class="fixed w-full z-50 bg-white/80 backdrop-blur shadow-md">
  <nav class="max-w-6xl mx-auto flex items-center justify-between px-4 py-3">
    <a href="#inicio" class="text-2xl font-bold text-gray-800 tracking-tight"
      >MiFunnel</a
    >
    <button
      id="menu-btn"
      class="md:hidden text-gray-700 focus:outline-none"
      aria-label="Abrir menú"
    >
      <svg
        class="w-7 h-7"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
    </button>
    <ul id="nav-menu" class="hidden md:flex space-x-8 font-medium">
      {
        navLinks.map((link) => (
          <li>
            <a
              href={link.href}
              class="text-gray-700 hover:text-blue-600 transition-colors duration-200"
            >
              {link.name}
            </a>
          </li>
        ))
      }
    </ul>
  </nav>
  <ul id="mobile-menu" class="md:hidden hidden flex-col bg-white px-4 pb-4">
    {
      navLinks.map((link) => (
        <li class="py-2 border-b">
          <a
            href={link.href}
            class="block text-gray-700 hover:text-blue-600 transition-colors duration-200"
          >
            {link.name}
          </a>
        </li>
      ))
    }
  </ul>
  <script type="module" is:inline>
    // Menú hamburguesa
    const btn = document.getElementById("menu-btn");
    const mobileMenu = document.getElementById("mobile-menu");
    btn?.addEventListener("click", () => {
      mobileMenu.classList.toggle("hidden");
    });

    // Scroll suave para todos los enlaces internos
    document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
      anchor.addEventListener("click", function (e) {
        const targetId = this.getAttribute("href").slice(1);
        const target = document.getElementById(targetId);
        if (target) {
          e.preventDefault();
          window.scrollTo({
            top: target.offsetTop - 70, // Ajusta el offset según la altura del header
            behavior: "smooth",
          });
          // Cierra el menú móvil al hacer clic
          if (mobileMenu && !mobileMenu.classList.contains("hidden")) {
            mobileMenu.classList.add("hidden");
          }
        }
      });
    });
  </script>
</header>
